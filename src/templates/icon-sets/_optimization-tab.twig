{# SVG Optimization Tab Content #}

{% set isDevEnvironment = craft.app.config.general.devMode or (craft.app.env in ['local', 'dev', 'development']) %}
{% set settings = craft.iconManager.settings %}


{% if scanResult is not defined %}
    <div class="pane" style="padding: 60px; text-align: center;">
        <p class="light">{{ "Scan results not available."|t('icon-manager') }}</p>
    </div>
{% else %}

{# SVGO Availability Notice - Only show in dev/local environments #}
{% set svgoAvailable = craft.iconManager.svgo.isAvailable() %}
{% set isDevEnvironment = craft.app.config.general.devMode or (craft.app.env in ['local', 'dev', 'development']) %}
{% if svgoAvailable and isDevEnvironment %}
<div style="margin-bottom: 32px;">
    <div class="pane" style="padding: 0; margin-block: 0; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); border: 1px solid #e2e8f0; overflow: hidden;">
        <div style="padding: 20px 24px; border-bottom: 1px solid #e5e7eb;">
            <div style="display: flex; align-items: center; gap: 12px;">
                <div style="width: 40px; height: 40px; border-radius: 10px; background: #10b981; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: 700;">✓</div>
                <div style="flex: 1;">
                    <h3 style="margin: 0 0 4px 0; color: #374151; font-size: 16px; font-weight: 600;">{{ "SVGO Available"|t('icon-manager') }}</h3>
                    <p style="margin: 0; color: #6b7280; font-size: 13px; line-height: 1.5;">{{ "The Apply Optimizations button uses the PHP optimizer. For better results, use SVGO via command line."|t('icon-manager') }}</p>
                </div>
            </div>
        </div>
        <div style="padding: 20px 24px; background: rgba(255,255,255,0.6);">
            <div style="background: #475569; color: #e2e8f0; padding: 14px 16px; border-radius: 6px; font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; font-size: 13px; border: 1px solid #64748b;">
                <span style="color: #94a3b8;">$</span> ./craft icon-manager/optimize --set={{ iconSet.id }} --engine=svgo
            </div>
        </div>
    </div>
</div>
{% endif %}

{# Summary Stats #}
<div style="margin-bottom: 32px;">
    <h2>{{ "Optimization Overview"|t('icon-manager') }}</h2>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; margin-top: 16px; align-items: stretch;">
        <!-- Total SVG Files Card -->
        <div class="pane" style="padding: 24px; margin-block: 0; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); display: flex; flex-direction: column; height: 100%;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                <div style="width: 12px; height: 12px; border-radius: 50%; background: #059669;"></div>
                <h4 style="margin: 0; color: #374151; font-size: 15px; font-weight: 600;">{{ "SVG Files"|t('icon-manager') }}</h4>
            </div>
            <div style="flex: 1; display: flex; flex-direction: column;">
                <div style="font-size: 28px; font-weight: 700; color: #059669; line-height: 1; margin-bottom: 8px;">{{ scanResult.totalIcons|number_format }}</div>
                <div style="font-size: 14px; color: #4b5563;">{{ "Total files scanned"|t('icon-manager') }}</div>
            </div>
        </div>

        <!-- Total Size Card -->
        <div class="pane" style="padding: 24px; margin-block: 0; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); display: flex; flex-direction: column; height: 100%;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                <div style="width: 12px; height: 12px; border-radius: 50%; background: #0ea5e9;"></div>
                <h4 style="margin: 0; color: #374151; font-size: 15px; font-weight: 600;">{{ "Total Size"|t('icon-manager') }}</h4>
            </div>
            <div style="flex: 1; display: flex; flex-direction: column;">
                <div style="font-size: 28px; font-weight: 700; color: #0f172a; line-height: 1; margin-bottom: 8px;">{{ craft.iconManager.svgOptimizer.formatFileSize(scanResult.totalSize) }}</div>
                <div style="font-size: 14px; color: #4b5563;">{{ "Combined file size"|t('icon-manager') }}</div>
            </div>
        </div>

        <!-- Total Issues Card -->
        {% set totalIssues = scanResult.issues.clipPaths + scanResult.issues.masks + scanResult.issues.filters + scanResult.issues.comments + scanResult.issues.inlineStyles + scanResult.issues.largeFiles + scanResult.issues.widthHeight %}
        {% set criticalIssues = scanResult.issues.clipPaths + scanResult.issues.masks + scanResult.issues.filters + scanResult.issues.comments + scanResult.issues.inlineStyles + scanResult.issues.widthHeight %}
        {% set hasRedIssues = criticalIssues > 0 %}
        <div class="pane" style="padding: 24px; margin-block: 0; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); display: flex; flex-direction: column; height: 100%;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                <div style="width: 12px; height: 12px; border-radius: 50%; background: {% if totalIssues == 0 %}#10b981{% elseif hasRedIssues %}#dc2626{% else %}#f59e0b{% endif %};"></div>
                <h4 style="margin: 0; color: #374151; font-size: 15px; font-weight: 600;">{{ "Issues Found"|t('icon-manager') }}</h4>
            </div>
            <div style="flex: 1; display: flex; flex-direction: column;">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                    <div style="font-size: 28px; font-weight: 700; color: {% if totalIssues == 0 %}#10b981{% elseif hasRedIssues %}#dc2626{% else %}#f59e0b{% endif %}; line-height: 1;">{{ totalIssues|number_format }}</div>
                    {% if totalIssues == 0 %}
                    <div style="padding: 3px 10px; border-radius: 16px; font-size: 11px; font-weight: 700; text-transform: uppercase; color: white; background: #10b981;">
                        {{ 'Clean'|t('icon-manager') }}
                    </div>
                    {% endif %}
                </div>
                <div style="font-size: 14px; color: #4b5563;">{{ "Optimization opportunities"|t('icon-manager') }}</div>
            </div>
        </div>
    </div>
</div>

{# Issues Found #}
{% if totalIssues > 0 %}
<div style="margin-bottom: 32px;">
    <h2>{{ "Issue Breakdown"|t('icon-manager') }}</h2>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; margin-top: 16px;">
        {% if scanResult.issues.clipPaths > 0 %}
        <div class="pane" style="padding: 18px 20px; margin-block: 0; background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%); display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; border-radius: 10px; background: #fee2e2; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #dc2626; flex-shrink: 0;">{{ scanResult.issues.clipPaths|number_format }}</div>
            <div style="flex: 1; min-width: 0;">
                <div style="font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 2px;">{{ "Unused Clip-Paths"|t('icon-manager') }}</div>
                <div style="font-size: 12px; color: #6b7280;">{{ "Empty or unreferenced"|t('icon-manager') }}</div>
            </div>
        </div>
        {% endif %}

        {% if scanResult.issues.masks > 0 %}
        <div class="pane" style="padding: 18px 20px; margin-block: 0; background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%); display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; border-radius: 10px; background: #fee2e2; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #dc2626; flex-shrink: 0;">{{ scanResult.issues.masks|number_format }}</div>
            <div style="flex: 1; min-width: 0;">
                <div style="font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 2px;">{{ "Unused Masks"|t('icon-manager') }}</div>
                <div style="font-size: 12px; color: #6b7280;">{{ "Empty or unreferenced"|t('icon-manager') }}</div>
            </div>
        </div>
        {% endif %}

        {% if scanResult.issues.filters > 0 %}
        <div class="pane" style="padding: 18px 20px; margin-block: 0; background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%); display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; border-radius: 10px; background: #fee2e2; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #dc2626; flex-shrink: 0;">{{ scanResult.issues.filters|number_format }}</div>
            <div style="flex: 1; min-width: 0;">
                <div style="font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 2px;">{{ "Filters"|t('icon-manager') }}</div>
                <div style="font-size: 12px; color: #6b7280;">{{ "Can slow down rendering"|t('icon-manager') }}</div>
            </div>
        </div>
        {% endif %}

        {% if scanResult.issues.comments > 0 %}
        <div class="pane" style="padding: 18px 20px; margin-block: 0; background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%); display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; border-radius: 10px; background: #fee2e2; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #dc2626; flex-shrink: 0;">{{ scanResult.issues.comments|number_format }}</div>
            <div style="flex: 1; min-width: 0;">
                <div style="font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 2px;">{{ "Comments"|t('icon-manager') }}</div>
                <div style="font-size: 12px; color: #6b7280;">{{ "Unnecessary metadata"|t('icon-manager') }}</div>
            </div>
        </div>
        {% endif %}

        {% if scanResult.issues.inlineStyles > 0 %}
        <div class="pane" style="padding: 18px 20px; margin-block: 0; background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%); display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; border-radius: 10px; background: #fee2e2; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #dc2626; flex-shrink: 0;">{{ scanResult.issues.inlineStyles|number_format }}</div>
            <div style="flex: 1; min-width: 0;">
                <div style="font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 2px;">{{ "Inline Styles"|t('icon-manager') }}</div>
                <div style="font-size: 12px; color: #6b7280;">{{ "Harder to override with CSS"|t('icon-manager') }}</div>
            </div>
        </div>
        {% endif %}

        {% if scanResult.issues.largeFiles > 0 %}
        <div class="pane" style="padding: 18px 20px; margin-block: 0; background: linear-gradient(135deg, #ffffff 0%, #fefcf3 100%); display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; border-radius: 10px; background: #fef3c7; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #d97706; flex-shrink: 0;">{{ scanResult.issues.largeFiles|number_format }}</div>
            <div style="flex: 1; min-width: 0;">
                <div style="font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 2px;">{{ "Large Files"|t('icon-manager') }}</div>
                <div style="font-size: 12px; color: #6b7280;">{{ "Over 10KB (may be normal)"|t('icon-manager') }}</div>
            </div>
        </div>
        {% endif %}

        {% if scanResult.issues.widthHeight > 0 %}
        <div class="pane" style="padding: 18px 20px; margin-block: 0; background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%); display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; border-radius: 10px; background: #fee2e2; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #dc2626; flex-shrink: 0;">{{ scanResult.issues.widthHeight|number_format }}</div>
            <div style="flex: 1; min-width: 0;">
                <div style="font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 2px;">{{ "Width/Height"|t('icon-manager') }}</div>
                <div style="font-size: 12px; color: #6b7280;">{{ "Should use viewBox instead"|t('icon-manager') }}</div>
            </div>
        </div>
        {% endif %}
    </div>
</div>

{# File-by-File Breakdown #}
<div style="margin-bottom: 32px;">
    <h2>{{ "File Details"|t('icon-manager') }}</h2>

    <div class="pane" style="padding: 24px;">
        <p class="light" style="margin-bottom: 16px;">{{ "Review each file to see which issues were detected."|t('icon-manager') }}</p>

        <div style="overflow-x: auto;">
            <table class="data fullwidth" style="font-size: 13px; border-collapse: collapse; border: 1px solid #e5e7eb;">
                <thead>
                    <tr style="background: #f9fafb;">
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb; width: 60px;">{{ "Preview"|t('icon-manager') }}</th>
                        <th style="padding: 10px 12px; text-align: left; border: 1px solid #e5e7eb;">{{ "File Name"|t('icon-manager') }}</th>
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">{{ "Size"|t('icon-manager') }}</th>
                        {% if settings.scanClipPaths %}
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ "Clip"|t('icon-manager') }}
                            <span class="info" style="margin-left: 4px;">{{ 'Empty or unused clip-paths'|t('icon-manager') }}</span>
                        </th>
                        {% endif %}
                        {% if settings.scanMasks %}
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ "Mask"|t('icon-manager') }}
                            <span class="info" style="margin-left: 4px;">{{ 'Empty or unused masks'|t('icon-manager') }}</span>
                        </th>
                        {% endif %}
                        {% if settings.scanFilters %}
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ "Filter"|t('icon-manager') }}
                            <span class="info" style="margin-left: 4px;">{{ 'Complex effects that can slow down rendering'|t('icon-manager') }}</span>
                        </th>
                        {% endif %}
                        {% if settings.scanComments %}
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ "Comment"|t('icon-manager') }}
                            <span class="info" style="margin-left: 4px;">{{ 'Unnecessary metadata that adds file size'|t('icon-manager') }}</span>
                        </th>
                        {% endif %}
                        {% if settings.scanInlineStyles %}
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ "Style"|t('icon-manager') }}
                            <span class="info" style="margin-left: 4px;">{{ 'Harder to override with CSS'|t('icon-manager') }}</span>
                        </th>
                        {% endif %}
                        {% if settings.scanLargeFiles %}
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ "Large"|t('icon-manager') }}
                            <span class="info" style="margin-left: 4px;">{{ 'Files over 10KB (may be normal for complex icons)'|t('icon-manager') }}</span>
                        </th>
                        {% endif %}
                        {% if settings.scanWidthHeight or settings.scanWidthHeightWithViewBox %}
                        <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ "W/H"|t('icon-manager') }}
                            <span class="info" style="margin-left: 4px;">{{ 'Has width/height attributes'|t('icon-manager') }}{% if settings.scanWidthHeightWithViewBox %}{{ ' (even with viewBox)'|t('icon-manager') }}{% endif %}</span>
                        </th>
                        {% endif %}
                    </tr>
                </thead>
                <tbody>
                    {% for icon in scanResult.icons %}
                        {% set hasIssues = icon.issues.clipPaths > 0 or icon.issues.masks > 0 or icon.issues.filters > 0 or icon.issues.comments > 0 or icon.issues.inlineStyles > 0 or icon.issues.largeFiles > 0 or icon.issues.widthHeight > 0 %}

                        {% if hasIssues %}
                        <tr>
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb; vertical-align: middle;">
                                {% set svgPreview = craft.iconManager.svgOptimizer.getSvgPreview(iconSet, icon.path) %}
                                {% if svgPreview %}
                                    <div style="width: 32px; height: 32px; margin: 0 auto; color: #374151; display: flex; align-items: center; justify-content: center;">
                                        {{ svgPreview|raw }}
                                    </div>
                                {% else %}
                                    <span style="color: #9ca3af; font-size: 11px;">—</span>
                                {% endif %}
                            </td>
                            <td style="padding: 8px 12px; border: 1px solid #e5e7eb;">
                                <code style="font-size: 12px;">{{ icon.path }}</code>
                            </td>
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {{ craft.iconManager.svgOptimizer.formatFileSize(icon.fileSize) }}
                            </td>
                            {% if settings.scanClipPaths %}
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {% if icon.issues.clipPaths > 0 %}
                                    <span style="color: #dc2626; font-weight: 600;">✓</span>
                                {% else %}
                                    <span style="color: #9ca3af;">—</span>
                                {% endif %}
                            </td>
                            {% endif %}
                            {% if settings.scanMasks %}
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {% if icon.issues.masks > 0 %}
                                    <span style="color: #dc2626; font-weight: 600;">✓</span>
                                {% else %}
                                    <span style="color: #9ca3af;">—</span>
                                {% endif %}
                            </td>
                            {% endif %}
                            {% if settings.scanFilters %}
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {% if icon.issues.filters > 0 %}
                                    <span style="color: #dc2626; font-weight: 600;">✓</span>
                                {% else %}
                                    <span style="color: #9ca3af;">—</span>
                                {% endif %}
                            </td>
                            {% endif %}
                            {% if settings.scanComments %}
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {% if icon.issues.comments > 0 %}
                                    <span style="color: #dc2626; font-weight: 600;">✓</span>
                                {% else %}
                                    <span style="color: #9ca3af;">—</span>
                                {% endif %}
                            </td>
                            {% endif %}
                            {% if settings.scanInlineStyles %}
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {% if icon.issues.inlineStyles > 0 %}
                                    <span style="color: #dc2626; font-weight: 600;">✓</span>
                                {% else %}
                                    <span style="color: #9ca3af;">—</span>
                                {% endif %}
                            </td>
                            {% endif %}
                            {% if settings.scanLargeFiles %}
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {% if icon.issues.largeFiles > 0 %}
                                    <span style="color: #dc2626; font-weight: 600;">✓</span>
                                {% else %}
                                    <span style="color: #9ca3af;">—</span>
                                {% endif %}
                            </td>
                            {% endif %}
                            {% if settings.scanWidthHeight or settings.scanWidthHeightWithViewBox %}
                            <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                                {% if icon.issues.widthHeight > 0 %}
                                    <span style="color: #dc2626; font-weight: 600;">✓</span>
                                {% else %}
                                    <span style="color: #9ca3af;">—</span>
                                {% endif %}
                            </td>
                            {% endif %}
                        </tr>
                        {% endif %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% else %}
{# No Issues Found #}
<div class="pane" style="padding: 60px; text-align: center; margin-bottom: 32px;">
    <p style="font-size: 20px; font-weight: 600; margin: 0 0 8px 0; color: #059669;">{{ "No Issues Found"|t('icon-manager') }}</p>
    <p class="light">{{ "All SVG files in this icon set are already optimized."|t('icon-manager') }}</p>
</div>
{% endif %}

{# Backup Management #}
{% if backups|length > 0 %}
<div style="margin-bottom: 32px;">
    <h2>{{ "Backups"|t('icon-manager') }}</h2>

    <div class="pane" style="padding: 24px;">
        <p class="light" style="margin-bottom: 16px;">{{ "Restore previous versions of this icon set from backups created during optimization."|t('icon-manager') }}</p>

        <table class="data fullwidth" style="font-size: 13px; border-collapse: collapse; border: 1px solid #e5e7eb;">
            <thead>
                <tr style="background: #f9fafb;">
                    <th style="padding: 10px 12px; text-align: left; border: 1px solid #e5e7eb;">{{ "Backup Name"|t('icon-manager') }}</th>
                    <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">{{ "Date"|t('icon-manager') }}</th>
                    <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">{{ "Size"|t('icon-manager') }}</th>
                    <th style="padding: 10px 8px; text-align: center; border: 1px solid #e5e7eb;">{{ "Actions"|t('icon-manager') }}</th>
                </tr>
            </thead>
            <tbody>
                {% for backup in backups %}
                    <tr>
                        <td style="padding: 8px 12px; border: 1px solid #e5e7eb;">
                            <code style="font-size: 12px;">{{ backup.name }}</code>
                        </td>
                        <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ backup.formattedDate }}
                        </td>
                        <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                            {{ craft.iconManager.svgOptimizer.formatFileSize(backup.size) }}
                        </td>
                        <td class="thin" style="padding: 8px; text-align: center; border: 1px solid #e5e7eb;">
                            <div style="display: flex; gap: 8px; justify-content: center;">
                                {% if isDevEnvironment %}
                                    <form method="post" accept-charset="UTF-8" style="display: inline;">
                                        {{ csrfInput() }}
                                        {{ actionInput('icon-manager/icon-sets/restore-backup') }}
                                        {{ redirectInput('icon-manager/icon-sets/' ~ iconSet.id ~ '#optimization') }}
                                        {{ hiddenInput('iconSetId', iconSet.id) }}
                                        {{ hiddenInput('backupPath', backup.path) }}

                                        <button type="submit" class="btn small" onclick="return confirm('{{ 'This will replace all current files with files from this backup. Continue?'|t('icon-manager') }}');">
                                            {{ "Restore"|t('icon-manager') }}
                                        </button>
                                    </form>

                                    <form method="post" accept-charset="UTF-8" style="display: inline;">
                                        {{ csrfInput() }}
                                        {{ actionInput('icon-manager/icon-sets/delete-backup') }}
                                        {{ redirectInput('icon-manager/icon-sets/' ~ iconSet.id ~ '#optimization') }}
                                        {{ hiddenInput('backupPath', backup.path) }}

                                        <button type="submit" class="btn small" onclick="return confirm('{{ 'Are you sure you want to delete this backup? This cannot be undone.'|t('icon-manager') }}');">
                                            {{ "Delete"|t('icon-manager') }}
                                        </button>
                                    </form>
                                {% else %}
                                    <span class="light">{{ "Only available in dev"|t('icon-manager') }}</span>
                                {% endif %}
                            </div>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endif %}

{% endif %}{# end scanResult check #}

{% include 'icon-manager/_components/plugin-credit.twig' %}
